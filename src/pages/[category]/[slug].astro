---
import recipes from "../../data/recipes.json";
import Layout from "../../layouts/Layout.astro";

const { category, slug } = Astro.params;

// Cari resep berdasarkan slug
const recipe = recipes.find((r) => r.slug === slug);

if (!recipe) {
    throw new Error(`Recipe not found for slug: ${slug}`);
}
---

<Layout title={recipe.title} description={recipe.description}>
    <main>
        <section class="max-w-screen-lg mx-auto space-y-6 px-4 py-8">
            <h1 class="text-3xl font-bold">{recipe.title}</h1>
            <p class="text-gray-700">{recipe.description}</p>
            <h2 class="text-2xl mt-6">Bahan-bahan</h2>
            <ul>
                {
                    recipe.ingredients.map((ingredient) => (
                        <li>
                            {ingredient.quantity} - {ingredient.name}
                        </li>
                    ))
                }
            </ul>
            <h2 class="text-2xl mt-6">Instruksi</h2>
            <ol>
                {
                    recipe.instructions.map((instruction) => (
                        <li>
                            {instruction.step}. {instruction.text}
                        </li>
                    ))
                }
            </ol>
        </section>
    </main>
</Layout>
